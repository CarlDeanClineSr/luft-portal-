<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>IMPERIAL PHYSICS OBSERVATORY | LIVE STATUS</title>
    <style>
        body { background-color: #050505; color: #00FFFF; font-family: "Courier New", monospace; text-align: center; margin-top: 50px; }
        #imperial-hud { border: 3px solid #00FFFF; padding: 30px; display: inline-block; background: #000; box-shadow: 0 0 20px rgba(0, 255, 255, 0.2); }
        h1 { margin: 0 0 20px 0; letter-spacing: 2px; text-transform: uppercase; font-size: 24px; border-bottom: 1px solid #333; padding-bottom: 10px; }
        
        .metric-box { margin: 20px 0; font-size: 48px; font-weight: bold; text-shadow: 0 0 10px currentColor; }
        .label { font-size: 14px; color: #888; display: block; margin-bottom: 5px; }
        
        #mode-badge { padding: 5px 15px; border: 1px solid currentColor; display: inline-block; margin-top: 10px; font-size: 18px; }
        
        /* STATUS COLORS */
        .status-stable { color: #00FFFF; } /* Cyan */
        .status-elevated { color: #00FF00; } /* Lime */
        .status-warning { color: #FFA500; } /* Orange */
        .status-critical { color: #FF0000; animation: blink 1s infinite; } /* Red */
        
        @keyframes blink { 50% { opacity: 0.5; } }
    </style>
</head>
<body>

<div id="imperial-hud">
    <h1>üèõÔ∏è IMPERIAL VACUUM MONITOR</h1>
    
    <div>
        <span class="label">MAX VACUUM TENSION (œá)</span>
        <div id="chi-display" class="metric-box status-stable">LOADING...</div>
    </div>

    <div>
        <span class="label">CURRENT HARMONIC STATE</span>
        <div id="mode-display" class="metric-box">---</div>
    </div>

    <div style="margin-top: 20px; font-size: 12px; color: #555;">
        LAST AUDIT: <span id="timestamp">SYNCING...</span>
    </div>
</div>

<script>
    // ‚ö†Ô∏è TARGET: The JSON file generated by your 'chi_boundary_monitor.yml' workflow
    const JSON_URL = 'https://raw.githubusercontent.com/CarlDeanClineSr/luft-portal-/main/data/chi_monitor/chi_latest_validation.json';

    async function updateImperialStatus() {
        try {
            // 1. Fetch the JSON from GitHub
            const response = await fetch(JSON_URL);
            if (!response.ok) throw new Error("Link Severed");
            const data = await response.json();

            // 2. Extract Data
            // Your JSON structure based on the workflow: 
            // { "max_chi": 0.142, "harmonic_mode": 1, "violations": false, ... }
            const chi = data.max_chi || 0;
            const mode = data.harmonic_mode || 1;
            
            // 3. Update UI Elements
            document.getElementById('chi-display').textContent = chi.toFixed(4);
            document.getElementById('mode-display').textContent = "MODE " + mode;
            document.getElementById('timestamp').textContent = new Date().toUTCString();

            // 4. Color Logic (Imperial Standard)
            const chiBox = document.getElementById('chi-display');
            const modeBox = document.getElementById('mode-display');
            
            // Reset Classes
            chiBox.className = "metric-box"; 
            
            if (chi >= 0.15) {
                chiBox.classList.add("status-critical");
                modeBox.style.color = "#FF0000";
            } else if (chi >= 0.12) {
                chiBox.classList.add("status-warning");
                modeBox.style.color = "#FFA500";
            } else {
                chiBox.classList.add("status-stable");
                modeBox.style.color = "#00FFFF";
            }

        } catch (error) {
            console.error(error);
            document.getElementById('chi-display').textContent = "OFFLINE";
        }
    }

    // Refresh every 30 seconds
    updateImperialStatus();
    setInterval(updateImperialStatus, 30000);
</script>

</body>
</html>
